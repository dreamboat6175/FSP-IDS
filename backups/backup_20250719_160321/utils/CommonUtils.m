classdef CommonUtils\n    % CommonUtils - 通用工具函数集合\n    \n    methods (Static)\n        function result = hasMethod(obj, methodName)\n            % 检查对象是否具有指定的方法\n            % 输入:\n            %   obj - 要检查的对象\n            %   methodName - 方法名称\n            % 输出:\n            %   result - 逻辑值，表示是否存在该方法\n            \n            if isempty(obj)\n                result = false;\n                return;\n            end\n            \n            % 获取对象的方法列表\n            mc = metaclass(obj);\n            methodList = {mc.MethodList.Name};\n            result = ismember(methodName, methodList);\n        end\n        \n        function stateIndex = encodeState(state, env)\n            % 统一的状态编码函数\n            % 根据环境类型选择合适的编码方式\n            \n            if isa(env, 'TCSEnvironment')\n                % TCS环境的状态编码\n                n_stations = env.n_stations;\n                stateIndex = 1;\n                for i = 1:length(state)\n                    stateIndex = stateIndex + state(i) * (2^(i-1));\n                end\n            else\n                % 默认编码方式\n                stateIndex = sub2ind(env.state_space_size, state);\n            end\n        end\n    end\nend\n